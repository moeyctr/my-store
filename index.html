<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Soccer Empire</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet" />
<style>
/* Reset & Base styles */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
body {
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  color: #fff;
  line-height: 1.6;
  overflow-x: hidden;
}
/* Header styles */
header {
  background: linear-gradient(45deg, #0f2027, #203a43, #2c5364);
  background-size: 600% 600%;
  animation: gradientShift 20s ease infinite;
  position: sticky;
  top: 0;
  z-index: 999;
  box-shadow: 0 0 30px rgba(240, 192, 64, 0.7);
  padding: 20px 30px;
}
@keyframes gradientShift {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}
.header-flex {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}
.brand {
  display: flex;
  align-items: center;
}
.logo {
  width: 80px;
  height: 80px;
  margin-right: 18px;
}
.store-title {
  font-size: 2.5em;
  font-weight: bold;
  color: #f0c040;
  text-shadow: 0 0 10px #f0c040;
}
/* Search bar styles */
#search-container {
  margin-top: 10px;
  display: flex;
  align-items: center;
}
#search-input {
  padding: 8px;
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  font-size: 1em;
  border-radius: 8px;
  border: none;
  outline: none;
  width: 200px;
}
#search-button {
  padding: 8px 12px;
  margin-left: 8px;
  border: none;
  border-radius: 8px;
  background: linear-gradient(135deg, #ff0066, #ffcc00);
  cursor: pointer;
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  font-size: 1em;
  transition: all 0.3s;
}
#search-button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px #f0c040 inset;
}
/* Navigation styles */
nav {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
}
nav a {
  margin: 5px 10px;
  padding: 8px 14px;
  text-decoration: none;
  font-weight: bold;
  font-size: 1.1em;
  border-radius: 8px;
  background: linear-gradient(135deg, #ff0066, #ffcc00);
  background-size: 400% 400%;
  animation: navGradient 15s ease infinite;
  color: #fff;
  transition: all 0.3s ease;
}
nav a:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px #f0c040 inset;
}
@keyframes navGradient {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}
/* Sections styling */
section {
  display: none;
  padding: 40px 20px;
  min-height: 80vh;
  transition: all 0.5s ease;
}
section.active {
  display: block;
}
/* Specific styles for products and cart, etc. (unchanged from your code) */

#home {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding-bottom: 40px;
}
#home .content-container {
  max-width: 700px;
  width: 100%;
  margin: 0 auto;
  text-align: center;
  padding: 20px;
}
#home .image-row {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 20px;
}
#welcome {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 80vh;
  font-size: 4em;
  text-align: center;
  color: #f0c040;
  text-shadow: 0 0 20px #f0c040, 0 0 40px #f0c040;
}
h2 {
  text-align: center;
  font-size: 2.5em;
  margin-top: 20px;
  color: #f0c040;
}
h3 {
  margin-top: 40px;
  font-size: 2em;
  text-align: center;
  color: #ffd700;
}
/* Product grid styles remain the same */
#productGrid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
}
.product-card {
  background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
  padding: 10px;
  border-radius: 15px;
  width: 180px;
  box-shadow: 0 0 15px rgba(255,255,255,0.3);
  transition: transform 0.3s, box-shadow 0.3s;
}
.product-card:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px #f0c040 inset, 0 0 30px rgba(255,255,255,0.6);
}
.product-card img {
  width: 100%;
  border-radius: 10px;
}
.product-card h4 {
  font-size: 1.1em;
  margin: 8px 0;
  text-align: center;
}
.size-select {
  width: 100%;
  padding: 8px;
  border-radius: 8px;
  border: none;
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  font-size: 1em;
  background: #ffd200;
  color: #333;
  margin-top: 8px;
  margin-bottom: 8px;
}
button {
  display: block;
  width: 100%;
  padding: 8px 0;
  margin-top: 8px;
  border: none;
  border-radius: 8px;
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  font-size: 1em;
  cursor: pointer;
  background: linear-gradient(135deg, #f7971e, #ffd200);
  transition: all 0.3s;
}
button:hover {
  background: linear-gradient(135deg, #ffd200, #f7971e);
  box-shadow: 0 0 15px #f0c040 inset;
  transform: scale(1.05);
}
/* Cart styles */
#cart {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}
#cartItems {
  margin-top: 20px;
}
.cart-item {
  display: flex;
  align-items: center;
  background: rgba(255,255,255,0.05);
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 10px;
}
.cart-item img {
  width: 80px;
  border-radius: 8px;
  margin-right: 15px;
}
.remove-btn {
  margin-left: auto;
  background: #c0392b;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  color: #fff;
  cursor: pointer;
  transition: all 0.3s;
}
.remove-btn:hover {
  background: #e74c3c;
}
#checkout {
  display: block;
  margin: 30px auto;
  padding: 15px 30px;
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  font-size: 1.2em;
  background: linear-gradient(135deg, #43cea2, #185a9d);
  color: #fff;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: 0 0 20px #00f2fe inset;
  transition: all 0.3s;
}
#checkout:hover {
  background: linear-gradient(135deg, #185a9d, #43cea2);
  box-shadow: 0 0 30px #00f2fe inset;
  transform: scale(1.05);
}
/* Contact form styles */
#contact-form {
  max-width: 500px;
  margin: auto;
  display: flex;
  flex-direction: column;
}
#contact-form input, #contact-form textarea {
  padding: 10px;
  margin: 10px 0;
  border: none;
  border-radius: 6px;
  font-family: 'Arial', sans-serif;
  font-size: 1em;
}
#contact-form button {
  padding: 12px;
  margin-top: 20px;
  background: linear-gradient(135deg, #0f2027, #203a43);
  border: none;
  border-radius: 8px;
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  font-size: 1.2em;
  color: #fff;
  cursor: pointer;
  box-shadow: 0 0 15px #f0c040 inset;
}
#contact-form button:hover {
  background: linear-gradient(135deg, #203a43, #0f2027);
  box-shadow: 0 0 25px #f0c040 inset;
  transform: scale(1.05);
}
@media(max-width: 600px){
  .header-flex {
    flex-direction: column;
    align-items: center;
  }
  nav {
    justify-content: center;
    margin-top: 10px;
  }
}
/* New style for cart total summary display */
#cartTotalSummary {
  margin-top: 15px;
  font-size: 1.2em;
  font-weight: bold;
  padding: 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 8px;
}

/* Bottom fixed contact & map container styles */
#bottomTab {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 200px;
  background: rgba(0,0,0,0.8);
  display: flex;
  flex-direction: row;
  z-index: 9999;
  font-family: 'Orbitron', sans-serif;
  color: #fff;
  border-top: 2px solid #f0c040;
}
#bottomTab > div {
  flex: 1;
  padding: 10px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
#bottomTab h3 {
  margin-bottom: 10px;
}
#map {
  width: 100%;
  height: 100%;
  border-radius: 8px;
}
</style>
</head>
<body>

<header>
  <div class="header-flex">
    <div class="brand">
      <img src="https://i.pinimg.com/736x/19/c1/50/19c1502704de2be9ff31ea8a55c6d865.jpg" class="logo" />
      <div class="store-title">Soccer Empire</div>
    </div>
    <!-- Search bar -->
    <div id="search-container">
      <input type="text" id="search-input" placeholder="Search items..." />
      <button id="search-button" onclick="searchItems()">Search</button>
    </div>
    <nav>
      <a href="#home" onclick="showSection('home')">Home</a>
      <a href="#shop" onclick="showSection('shop'); filterProducts('all');">Shop All</a>
      <a href="#shop" onclick="showSection('shop'); filterProducts('Balls');">Balls</a>
      <a href="#shop" onclick="showSection('shop'); filterProducts('Boots');">Boots</a>
      <a href="#shop" onclick="showSection('shop'); filterProducts('Kits');">Kits</a>
      <a href="#cart" onclick="showSection('cart'); showCart();">Cart</a>
      <a href="#contact" onclick="showSection('contact')">Contact</a>
      <a href="#reviews" onclick="showSection('reviews')">Reviews</a>
    </nav>
  </div>
</header>

<div id="notification" style="
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #4CAF50;
  color: white;
  padding: 15px 25px;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
  font-family: 'Orbitron', sans-serif;
  font-weight: bold;
  display: none;
  z-index: 10000;
"></div>

<section id="home">
  <div class="content-container">
    <h2>Welcome to Soccer Empire</h2>
    <p>Soccer Empire is your premier destination for authentic football apparel, cutting-edge boots, and exclusive soccer balls. With the latest kits from the world's top clubs, specialty tracksuits, and official match balls, Soccer Empire delivers quality, style, and passion for every football fan and athlete. Shop with confidence and experience the essence of the beautiful game all in one place.</p>
    <div class="image-row">
      <img src="https://i0.wp.com/www.soccercleats101.com/wp-content/uploads/2019/03/Nike-Victory.jpg?ssl=1" width="300" style="margin:10px; border-radius:10px;">
      <img src="https://i.pinimg.com/1200x/00/77/59/007759bda2cb5fc069984e67977eca5d.jpg" width="300" style="margin:10px; border-radius:10px;">
      <img src="https://i.pinimg.com/736x/21/78/b0/2178b03aaa46ad4a192f96ab148d7513.jpg" width="300" style="margin:10px; border-radius:10px;">
    </div>
  </div>
</section>

<section id="reviews">
  <h2 style="text-align:center; margin-top:20px;">Customer Reviews</h2>
  <div id="reviews-list" style="margin-top:20px; max-width:800px; margin-left:auto; margin-right:auto; padding:0 10px;">
    </div>
  <h3 style="margin-top:40px; text-align:center;">Leave a Review</h3>
  <form id="review-form" style="max-width:600px; margin:20px auto; display:flex; flex-direction:column;">
    <input type="text" id="reviewerName" placeholder="Your Name" required style="margin-bottom:10px; padding:8px; border-radius:5px; border:none; font-family:'Orbitron';"/>
    <textarea id="reviewText" placeholder="Your Review" rows="4" required style="margin-bottom:10px; padding:8px; border-radius:5px; border:none; font-family:'Orbitron';"></textarea>
    <div style="display:flex; align-items:center; justify-content:center; margin-bottom:10px;">
      <label for="starRating" style="margin-right:10px;">Stars:</label>
      <select id="starRating" style="padding:8px; border-radius:5px; border:none; font-family:'Orbitron'; font-weight:bold;">
        <option value="5">★★★★★ (5)</option>
        <option value="4">★★★★ (4)</option>
        <option value="3">★★★ (3)</option>
        <option value="2">★★ (2)</option>
        <option value="1">★ (1)</option>
      </select>
    </div>
    <button type="submit" style="padding:10px; background:#f0c040; border:none; border-radius:5px; font-family:'Orbitron'; font-weight:bold; cursor:pointer;">Submit Review</button>
  </form>
</section>

<section id="shop">
  <h2 id="shop-title" style="text-align:center; margin-top:20px;">Shop - All Products</h2>
  <div id="productGrid"></div>
</section>

<section id="cart">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <!-- Total display -->
  <div id="cartTotalSummary"></div>
  <button id="checkoutBtn" onclick="showCheckout()">Proceed to Checkout</button>
</section>

<section id="contact">
  <h2>Contact Us</h2>
  <form id="contact-form">
    <input type="text" placeholder="Your Name" required />
    <input type="email" placeholder="Your Email" required />
    <textarea placeholder="Your Message" rows="4" required></textarea>
    <button type="submit">Send</button>
  </form>
</section>

<!-- Checkout Modal -->
<div id="checkoutFormContainer" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:1000;">
  <div style="background:#222; padding:20px; border-radius:10px; max-width:400px; width:90%; color:#fff;">
    <h2>Enter Payment Details</h2>
    <p id="priceBreakdown"></p>
    <form id="paymentForm">
      <label>Full Name:</label><br>
      <input type="text" id="name" required><br><br>
      <label>Credit Card Number:</label><br>
      <input type="text" id="ccnumber" required maxlength="19" placeholder="1234 5678 9012 3456"><br><br>
      <label>Expiry Date:</label><br>
      <input type="text" id="exp" required placeholder="MM/YY" maxlength="5"><br><br>
      <label>CVV:</label><br>
      <input type="text" id="cvv" required maxlength="4" placeholder="123"><br><br>
      <label>Billing Address:</label><br>
      <input type="text" id="address" required><br><br>
      <button type="submit">Pay</button>
      <button type="button" onclick="closeCheckoutForm()">Cancel</button>
    </form>
  </div>
</div>

<!-- Google Maps API -->
<script src="https://maps.googleapis.com/maps/api/js?callback=initMap" async defer></script>

<script>
// Initialize Google Map for your address
function initMap() {
  var location = { lat: -37.642544, lng: 144.940123 };
  var map = new google.maps.Map(document.getElementById('googleMap'), {
    zoom: 16,
    center: location
  });
  new google.maps.Marker({
    position: location,
    map: map,
    title: 'Sirius College Meadow Fair Campus'
  });
}
// Initialize Google Map inside bottom tab
function initBottomMap() {
  var location = { lat: -37.642544, lng: 144.940123 };
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 16,
    center: location
  });
  new google.maps.Marker({
    position: location,
    map: map,
    title: 'Sirius College Meadow Fair Campus'
  });
}

function showSection(id) {
  document.querySelectorAll('section').forEach(s => s.style.display='none');
  document.getElementById(id).style.display='block';
}

// --- Your product array ---
const products = [
  { name: "Copa Mundial FG", image: "https://www.futbolemotion.com/imagesarticulos/88055/750/bota-adidas-copa-mundial-0.jpg", category: "Boots", price: 120 },
  { name: "F50 FG Radiant Blaze", image: "https://thumblr.uniid.it/product/396994/83cfad07bdcd.jpg?width=3840&format=webp&q=75", category: "Boots", price: 150 },
  { name: "Copa Pure 3 Laceless", image: "https://productimages.footy.com/686557694b3a4a3c66e77ca3/0/3840.webp?q=75", category: "Boots", price: 140 },
  { name: "Zoom Mercurial Vapor 16 Vini's", image: "https://cdn.idealo.com/folder/Product/206704/7/206704750/s1_produktbild_max_2/mercurial-vapor-16-elite-vini-jr-fg-ib2356-001-black-green-spark-soar-dynamic-yellow.jpg", category: "Boots", price: 170 },
  { name: "Phantom GX 2 Elite", image: "https://www.ultrafootball.com/cdn/shop/files/AURORA_FJ2554-800_PHCFH001-2000_1200x630_crop_center.jpg?v=1748237985", category: "Boots", price: 160 },
  { name: "Copa Pure 3 Celestial", image: "https://imagedelivery.net/2DfovxNet9Syc-4xYpcsGg/dc011c3c-2541-4ccd-d927-ea9c4a9a4800/product", category: "Boots", price: 135 },
  { name: "Phantom GX 2 LV8", image: "https://www.ultrafootball.com/cdn/shop/files/AURORA_HV4890-100_PHCFH001-2000_1200x630_crop_center.jpg?v=1747883182", category: "Boots", price: 165 },
  { name: "Tiempo Legend 10", image: "https://thumblr.uniid.it/product/384243/03456a5e37de.jpg?width=3840&format=webp&q=75", category: "Boots", price: 155 },
  // Kits
  { name: "FC Barcelona x Travis Scott Limited Edition Away Kit", image: "https://footballprestige.com/cdn/shop/files/fc-barcelona-x-travis-scott-limited-edition-away-kit-footballprestigecom-2025-premium-quality-156413.jpg?v=1747584406&width=1024", category: "Kits", price: 90 },
  { name: "PSG Paris Noir Premium Kit", image: "https://footballprestige.com/cdn/shop/files/psg-paris-noir-premium-kit-footballprestigecom-2025-premium-quality-389130.jpg?v=1743878955", category: "Kits", price: 90 },
  { name: "Manchester United Force of Nature Premium Kit", image: "https://footballprestige.com/cdn/shop/files/manchester-united-force-of-nature-premium-kit-2025-premium-quality-661856.png?v=1743785242", category: "Kits", price: 90 },
  { name: "Brazil Emerald Nights Special Kit", image: "https://footballprestige.com/cdn/shop/files/brazil-emerald-nights-premium-polo-t-shirt-2025-premium-quality-568418.png?v=1743703286", category: "Kits", price: 90 },
  { name: "Real Madrid 2025 Emerald Flame Premium Kit", image: "https://footballprestige.com/cdn/shop/files/2025-real-madrid-emerald-flame-premium-kit-2025-premium-quality-210578.png?v=1739550611", category: "Kits", price: 90 },
  { name: "Liverpool Phoenix Premium Kit", image: "https://footballprestige.com/cdn/shop/files/liverpool-phoenix-premium-kit-footballprestigecom-2025-premium-quality-828645.jpg?v=1747164923", category: "Kits", price: 90 },
  { name: "Japan Sakura Dragon Special Kit", image: "https://footballprestige.com/cdn/shop/files/442.png?v=1743686273", category: "Kits", price: 90 },
  { name: "Japan Son Goku Premium Kit", image: "https://footballprestige.com/cdn/shop/files/120.png?v=1743678819", category: "Kits", price: 90 },
  { name: "Japan Sakura Dragon Tracksuit", image: "https://footballprestige.com/cdn/shop/files/japan-sakura-dragon-tracksuit-2024-premium-quality-jersey-831133.jpg?v=1730728405", category: "Kits", price: 100 },
  { name: "Brazil 2024 Jesus Premium Tracksuit", image: "https://i.pinimg.com/736x/31/44/ef/3144ef786185331ed5ce03e748992c21.jpg", category: "Kits", price: 100 },
  { name: "Japan Supra Special Kit", image: "https://footballprestige.com/cdn/shop/files/japan-supra-special-kit-premium-quality-jersey-exclusive-collection-452399.jpg?v=1723118287", category: "Kits", price: 90 },
  // Balls
  { name: "Premier League Flight Ball", image: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhqaRSJYeZWNEEOOtrr-dBdf9G_U56d4791V7iUUWSuKD79Oqp48GSftgjs4bOgzqYbR8sF4ge-dBgoHQL7uJUFMdjuWnr1iTphe_EYi3UKljgBGoE0k3yBfA8lKiDO8iR77-VTyc4Ygs1Fp-MnEFbVj25zMdy1_1Trt4sYfumF6yv_NXyHAMfTJN2yd8A/s1600/nike-epl-24-25-hi-vis%20%284%29.jpg", category: "Balls", price: 130 },
  { name: "Context 25 Pro Ball", image: "https://www.ultrafootball.com/cdn/shop/files/JH1273_b2b012_plp-Photoroom.png?v=1733151257", category: "Balls", price: 110 },
  { name: "UWCL Pro 24-25 Group Stage Ball", image: "https://brand.assets.adidas.com/image/upload/glbl_ucl_uwcl_group_stage_omb_football_fw24_launch_pdp_UWCL_Hero_Banner_02_m_2dca8e30ba.jpg", category: "Balls", price: 150 },
  { name: "A-Leagues Ultimax Pro 24-25 Finals Ball", image: "https://mitre-sports.com.au/cdn/shop/files/mitre_aleague_mens_finals_ball_mini_2_1800x1800.jpg?v=1744780338", category: "Balls", price: 140 }
];

// Render products
function renderProducts(productsToRender) {
  const container = document.getElementById('productGrid');
  container.innerHTML = '';
  productsToRender.forEach(p => {
    const div = document.createElement('div');
    div.className = 'product-card';

    let sizes = '';
    if (p.category === "Boots") {
      sizes = `<select class="size-select" required>
        ${[...Array(9)].map((_,i)=>`<option value="${i+5}">${i+5}</option>`).join('')}
      </select>`;
    } else if (p.category === "Kits") {
      sizes = `<select class="size-select" required>
        ${["XS","S","M","L","XL","XXL"].map(size=>`<option value="${size}">${size}</option>`).join('')}
      </select>`;
    } else if (p.category === "Balls") {
      sizes = `<p>Size: 5</p>`;
    }

    div.innerHTML = `
      <img src="${p.image}" />
      <h4>${p.name}</h4>
      <p>$${p.price}</p>
      ${sizes}
      <button>Add to Cart</button>
    `;
    div.querySelector('button').onclick = () => {
      const sizeEl = div.querySelector('.size-select');
      const size = sizeEl ? sizeEl.value : "5";
      addToCart(p.name, p.price, p.image, size);
    };
    container.appendChild(div);
  });
}

function filterProducts(category) {
  const shopTitle = document.getElementById('shop-title');
  const filteredProducts = category === 'all'
    ? products
    : products.filter(p => p.category === category);
  if (category === 'all') {
    shopTitle.innerText = "Shop - All Products";
  } else {
    shopTitle.innerText = `Shop - ${category}`;
  }
  renderProducts(filteredProducts);
}

// --- Reviews ---
let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
function displayReviews() {
  const container = document.getElementById('reviews-list');
  container.innerHTML = '';
  reviews.forEach(rev => {
    const div = document.createElement('div');
    div.style.border = "1px solid #f0c040";
    div.style.borderRadius = "8px";
    div.style.padding = "10px";
    div.style.marginBottom = "10px";

    let starsDisplay = '';
    for (let i=0; i<rev.stars; i++) starsDisplay += '★';
    for (let i=rev.stars; i<5; i++) starsDisplay += '☆';

    div.innerHTML = `<strong style="color:#f0c040;">${rev.name}</strong>
                     <div style="color:#f0c040;">${starsDisplay}</div>
                     <p style="margin-top:5px;">${rev.text}</p>`;
    container.appendChild(div);
  });
}
// --- Review submission ---
document.getElementById('review-form').addEventListener('submit', (e) => {
  e.preventDefault();
  const name = document.getElementById('reviewerName').value.trim();
  const text = document.getElementById('reviewText').value.trim();
  const stars = parseInt(document.getElementById('starRating').value);
  if (name && text && stars >=1 && stars <=5) {
    reviews.push({name, text, stars});
    localStorage.setItem('reviews', JSON.stringify(reviews));
    displayReviews();
    document.getElementById('review-form').reset();
  }
});
// --- Notification ---
function showNotification(message) {
  const notification = document.getElementById('notification');
  notification.innerText = message;
  notification.style.display = 'block';
  setTimeout(() => {
    notification.style.display = 'none';
  }, 3000);
}
// --- Cart functions ---
function addToCart(name, price, image, size) {
  let currentCart = JSON.parse(localStorage.getItem('cart')) || [];
  currentCart.push({ name, price, image, size });
  localStorage.setItem('cart', JSON.stringify(currentCart));
  showNotification(`${name} is added to your cart!`);
  updateCartTotalDisplay(); // Update total whenever cart changes
}
function showCart() {
  const container = document.getElementById('cartItems');
  container.innerHTML = '';
  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
  if (cartItems.length === 0) {
    container.innerHTML = "<p>Your cart is empty.</p>";
    document.getElementById('cartTotalSummary').innerHTML = '';
    return;
  }
  cartItems.forEach((item, index) => {
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <img src="${item.image}">
      <div>
        <strong>${item.name}</strong><br>
        Size: ${item.size}<br>
        Price: $${item.price}
      </div>
      <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>
    `;
    container.appendChild(div);
  });
  // Update total display whenever cart is viewed
  updateCartTotalDisplay();
}

// Remove from cart
function removeFromCart(index) {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  if (index >= 0 && index < cart.length) {
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    showNotification("Item removed from your cart!");
    showCart();
  }
}

// --- Calculate subtotal ---
function getCartSubtotal() {
  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
  let subtotal = 0;
  cartItems.forEach(item => {
    subtotal += item.price;
  });
  return subtotal;
}

// --- Show total with GST ---
function updateCartTotalDisplay() {
  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
  let subtotal = 0;
  cartItems.forEach(item => {
    subtotal += item.price;
  });
  const gstRate = 0.10;
  const gstAmount = subtotal * gstRate;
  const total = subtotal + gstAmount;
  document.getElementById('cartTotalSummary').innerHTML = `
    Subtotal: $${subtotal.toFixed(2)}<br>
    GST (10%): $${gstAmount.toFixed(2)}<br>
    <strong>Total: $${total.toFixed(2)}</strong>
  `;
}

// Show checkout modal
function showCheckout() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  if (cart.length === 0) {
    alert("Your cart is empty!");
    return;
  }
  updateCartTotalDisplay();
  const subtotal = getCartSubtotal();
  const gstAmount = subtotal * 0.10;
  const totalPrice = subtotal + gstAmount;
  const priceDetails = `
Price: $${subtotal.toFixed(2)}
GST (10%): $${gstAmount.toFixed(2)}
Total: $${totalPrice.toFixed(2)}
`;
  document.getElementById('priceBreakdown').innerText = priceDetails;
  document.getElementById('paymentForm').dataset.total = totalPrice.toFixed(2);
  document.getElementById('checkoutFormContainer').style.display='flex';
}

function closeCheckoutForm() {
  document.getElementById('checkoutFormContainer').style.display='none';
}

document.getElementById('paymentForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const totalAmount = this.dataset.total;
  const name = document.getElementById('name').value.trim();
  const cc = document.getElementById('ccnumber').value.trim();
  const exp = document.getElementById('exp').value.trim();
  const cvv = document.getElementById('cvv').value.trim();
  const address = document.getElementById('address').value.trim();
  if (!name || !cc || !exp || !cvv || !address) {
    alert("Please fill all fields");
    return;
  }
  alert(`Thank you, ${name}! Your total is $${totalAmount}.`);
  localStorage.removeItem('cart');
  closeCheckoutForm();
  alert("Order placed successfully!");
  showSection('home');
  updateCartTotalDisplay();
});

// --- On window load ---
window.onload = () => {
  filterProducts('all');
  displayReviews();
  showSection('home');
  initMap();
  initBottomMap();
};

// Search function
function searchItems() {
  const query = document.getElementById('search-input').value.toLowerCase();
  const filtered = products.filter(p => p.name.toLowerCase().includes(query));
  showSection('shop');
  document.getElementById('shop-title').innerText = `Search results for "${query}"`;
  renderProducts(filtered);
}
</script>

<!-- Bottom contact & map -->
<div id="bottomTab">
  <div>
    <h3>Contact Us</h3>
    <p>Sirius College Meadow Fair Campus</p>
    <p>Melbourne, Australia</p>
  </div>
  <div style="flex:1; min-width:300px; height:100%; padding:10px;">
    <div id="map" style="width:100%; height:100%; border-radius:8px;"></div>
  </div>
</div>

</body>
</html>
